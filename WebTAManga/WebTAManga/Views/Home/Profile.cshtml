@model WebTAManga.Models.User

@{
    ViewData["Title"] = "User Profile";


}

<h2 class="text-center">Your Profile</h2>

<form method="post" enctype="multipart/form-data">
    @Html.AntiForgeryToken()

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success text-center">
            @TempData["SuccessMessage"]
        </div>
    }

    <div class="row justify-content-center">
        <div class="col-md-6">

            <!-- Username -->
            <div class="form-group">
                <label for="Username">Username</label>
                <input type="text" class="form-control" id="Username" name="Username" value="@Model.Username" required />
            </div>

            <!-- Email -->
            <div class="form-group">
                <label for="Email">Email</label>
                <input type="email" class="form-control" id="Email" name="Email" value="@Model.Email" required />
            </div>

            <p>Level: @Model.Level</p>
            <p>ExpPoints: @Model.ExpPoints</p>
            <!-- Avatar -->
            <div class="form-group text-center">
                <label for="Avatar">Avatar</label>
                <div class="mb-2">
                    <img src="~/uploads/avatars/@Model.Avatar" alt="Current Avatar" class="avatar-img img-fluid rounded-circle" />
                </div>
                <input type="file" class="form-control-file" id="Avatar" name="avatarFile" />
            </div>

            @* <!-- Chọn khung viền cho avatar --> *@
            @* <div class="form-group"> *@
            @*     <label for="AvatarFrameId">Choose Avatar Frame</label> *@
            @*     @Html.DropDownListFor(model => model.AvatarFrameId, *@
            @*              new SelectList(ViewBag.AvatarFrames as List<WebTAManga.Models.AvatarFrame>, "AvatarFrameId", "Name"), *@
            @*              "Select Frame", *@
            @*              new { @class = "form-control" }) *@
            @* </div> *@

            <p>Level: @Model.Level</p>
            <p>ExpPoints: @Model.ExpPoints</p>

            <!-- New Password -->
            <div class="form-group">
                <label for="Password">New Password</label>
                <input type="password" class="form-control" id="Password" name="newPassword" placeholder="Enter new password (optional)" />
            </div>

            <button type="submit" class="btn btn-primary btn-block">Update Profile</button>

        </div>
    </div>
</form>

<style>
    .avatar-img {
        width: 150px; /* Đặt kích thước ảnh */
        height: 150px;
        border-radius: 50%; /* Tạo hình tròn */
        object-fit: cover; /* Cắt ảnh để vừa khung mà không bị méo */
        border: 2px solid #ddd; /* Đặt viền cho ảnh */
    }

    .form-control-file {
        margin-top: 10px;
    }

    .btn-block {
        margin-top: 20px;
    }

    .alert {
        margin-top: 15px;
    }

    .text-center {
        text-align: center;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .avatar-img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
    }

    .avatar-frame {
        border: 5px solid #ddd;
        padding: 5px;
    }

</style>
