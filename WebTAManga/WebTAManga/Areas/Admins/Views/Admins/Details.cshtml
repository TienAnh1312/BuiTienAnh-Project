@model WebTAManga.Models.Admin

@{
    ViewData["Title"] = "Chi tiết Admin";
}

<h1>Chi tiết Admin</h1>

<div>
    <h4>@Model.Username</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Username</dt>
        <dd class="col-sm-10">@Model.Username</dd>
        <dt class="col-sm-2">Email</dt>
        <dd class="col-sm-10">@Model.Email</dd>
        <dt class="col-sm-2">Vai trò</dt>
        <dd class="col-sm-10">@Model.RoleNavigation?.RoleName</dd>
        <dt class="col-sm-2">Trưởng nhóm</dt>
        <dd class="col-sm-10">@(Model.IsDepartmentHead == true ? "Có" : "Không")</dd>
        <dt class="col-sm-2">Nhóm</dt>
        <dd class="col-sm-10">@(Model.Manager != null ? $"Nhóm của {Model.Manager.Username}" : "Chưa có")</dd>
        <dt class="col-sm-2">Ngày tạo</dt>
        <dd class="col-sm-10">@Model.CreatedAt?.ToString("dd/MM/yyyy HH:mm")</dd>
    </dl>
</div>
<div>
    <a asp-action="ManageGroups" class="btn btn-secondary">Quay lại</a>
    @if (User.IsInRole("SuperAdmin") || User.IsInRole("Admin") ||
    (User.IsInRole("DepartmentHead") && Model.ManagerId == int.Parse(User.FindFirst("AdminId")?.Value ?? "0")))
    {
        <a asp-action="AssignPermissions" asp-route-id="@Model.AdminId" class="btn btn-primary">Phân quyền</a>
    }
</div>